(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22cc0c"],{f529:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-button",{attrs:{type:"button"},on:{click:t.totsv}},[t._v("Export to tsv")]),n("el-button",{attrs:{type:"button"},on:{click:t.rmdb}},[t._v("Delete database")]),n("el-input",{style:{width:"auto",visibility:t.vis},attrs:{type:"text",placeholder:"Input CONFIRM here"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)},s=[],a={name:"admin",created:function(){this.token=sessionStorage.getItem("token"),"admin"!==this.token&&this.$router.push("login")},data:function(){return{id_annotator:"",passwd_annotator:"",vis:"hidden",input:""}},methods:{totsv:function(){var t=this,e={headers:{"Content-Type":"application/json",token:t.token}},n={HTTP_CONTENT_LANGUAGE:self.language};t.$axios.post("http://3.138.110.97:5000/export",n,e).then((function(e){console.log(e.data),400===parseInt(e.data.code)?t.$message("ERROR!"):200===parseInt(e.data.code)&&t.download()})).catch((function(t){console.log(t)}))},download:function(){console.log("Trying to download");var t=this;t.$axios.get("http://3.138.110.97:5000/download",{headers:{token:t.token}}).then((function(t){console.log(t);var e=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=e,n.setAttribute("download","output.tsv"),document.body.appendChild(n),n.click()})).catch((function(){return console.log("error")}))},rmdb:function(){if("hidden"===this.vis)this.$message("Please input `CONFIRM`"),this.vis="visible";else if("CONFIRM"!==this.input)this.$message("Please input `CONFIRM`"),this.input="";else{var t=this;t.$axios.get("http://3.138.110.97:5000/rmdb",{headers:{token:t.token}}).then((function(e){console.log(e),200===e.data.code?t.$message("Deletion completed."):t.$message("Some error occurred.")})).catch((function(){return console.log("error")}))}}}},i=a,c=n("2877"),l=Object(c["a"])(i,o,s,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d22cc0c.e9a2e0b6.js.map