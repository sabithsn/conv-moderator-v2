{"version":3,"sources":["webpack:///./src/components/Admin.vue?c298","webpack:///src/components/Admin.vue","webpack:///./src/components/Admin.vue?b9b0","webpack:///./src/components/Admin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","totsv","_v","rmdb","style","width","visibility","vis","model","value","callback","$$v","input","expression","staticRenderFns","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQP,EAAIQ,QAAQ,CAACR,EAAIS,GAAG,mBAAmBL,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQP,EAAIU,OAAO,CAACV,EAAIS,GAAG,qBAAqBL,EAAG,WAAW,CAACO,MAAM,CAAEC,MAAO,OAAQC,WAAYb,EAAIc,KAAMR,MAAM,CAAC,KAAO,OAAO,YAAc,sBAAsBS,MAAM,CAACC,MAAOhB,EAAS,MAAEiB,SAAS,SAAUC,GAAMlB,EAAImB,MAAMD,GAAKE,WAAW,YAAY,IAC/fC,EAAkB,GCStB,GACE,KAAF,QACE,QAFF,WAGI,KAAJ,sCACA,sBACM,KAAN,uBAGE,KAAF,WACI,MAAJ,CACM,aAAN,GACM,iBAAN,GACM,IAAN,SACM,MAAN,KAGE,QAAF,CACI,MAAJ,WACM,IAAN,OACA,GACQ,QAAR,CACU,eAAV,mBACU,MAAV,UAGA,GACQ,sBAAR,eAEM,EAAN,qEACQ,QAAR,YACA,4BACU,EAAV,mBACA,6BACU,EAAV,cAEA,mBACQ,QAAR,WAGI,SAAJ,WACM,QAAN,0BACM,IAAN,OACM,EAAN,gDAAQ,QAAR,oCACQ,QAAR,OACQ,IAAR,iDACA,8BACQ,EAAR,OACQ,EAAR,sCACQ,SAAR,oBACQ,EAAR,WACA,kBAAQ,OAAR,yBAEI,KAAJ,WACM,GAAN,oBACQ,KAAR,mCACQ,KAAR,mBAEA,0BACQ,KAAR,mCACQ,KAAR,aAEA,CACQ,IAAR,OACQ,EAAR,4CAAU,QAAV,CAAY,MAAZ,6BACU,QAAV,OACA,kBACY,EAAZ,gCAGY,EAAZ,oCACA,kBAAU,OAAV,4BChF+U,I,YCO3UC,EAAY,eACd,EACAvB,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d22cc0c.e9a2e0b6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('el-button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.totsv}},[_vm._v(\"Export to tsv\")]),_c('el-button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.rmdb}},[_vm._v(\"Delete database\")]),_c('el-input',{style:({width: 'auto', visibility: _vm.vis}),attrs:{\"type\":\"text\",\"placeholder\":\"Input CONFIRM here\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n      <el-button v-on:click=\"totsv\" type=\"button\">Export to tsv</el-button>\n      <el-button v-on:click=\"rmdb\" type=\"button\">Delete database</el-button>\n      <el-input v-model=\"input\" type=\"text\" v-bind:style=\"{width: 'auto', visibility: vis}\" placeholder=\"Input CONFIRM here\" ></el-input>\n  </div>\n</template>\n\n<script>\n  /*js*/\n  export default {\n    name: 'admin',\n    created () {\n      this.token = sessionStorage.getItem('token')\n        if (this.token !== 'admin') {\n            this.$router.push('login')\n        }\n    },\n    data: function () {\n      return {\n        id_annotator: '',\n        passwd_annotator: '',\n        vis: 'hidden',\n        input: ''\n      }\n    },\n    methods: {\n      totsv: function () {\n        let that = this\n        let config = {\n          headers: {\n                \"Content-Type\": \"application/json\",\n                \"token\": that.token,\n            }\n          }\n          let data = {\n            'HTTP_CONTENT_LANGUAGE': self.language\n          }\n          that.$axios.post(\"http://3.138.110.97:5000/export\", data, config).then(function (response) {\n              console.log(response.data);\n              if(parseInt(response.data.code) === 400){\n                that.$message('ERROR!')\n              }else if (parseInt(response.data.code) === 200){\n                that.download()\n              }\n            }).catch(function (error) {\n              console.log(error)\n            })\n      },\n      download: function() {\n        console.log('Trying to download')\n        let that = this\n        that.$axios.get(\"http://3.138.110.97:5000/download\", {headers: {\"token\": that.token}}).then(response => {\n            console.log(response)\n            let url = window.URL.createObjectURL(new Blob([response.data]))\n            let link = document.createElement('a')\n            link.href = url\n            link.setAttribute('download', 'output.tsv')\n            document.body.appendChild(link)\n            link.click()\n          }).catch(() => console.log('error'))\n      },\n      rmdb: function () {\n        if (this.vis === 'hidden') {\n            this.$message('Please input `CONFIRM`')\n            this.vis = 'visible'\n        }\n        else if(this.input !== 'CONFIRM') {\n            this.$message('Please input `CONFIRM`')\n            this.input = ''\n        }\n        else {\n            let that = this\n            that.$axios.get(\"http://3.138.110.97:5000/rmdb\", {headers: {\"token\": that.token}}).then(response => {\n                console.log(response)\n                if (response.data.code === 200) {\n                    that.$message('Deletion completed.')\n                }\n                else {\n                    that.$message('Some error occurred.')\n                }}).catch(() => console.log('error'))\n        }\n\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=d2bd2b08&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}